cjModules.define(function(){"use strict";return function(e,a){function n(){e.textContent="";var n=bmElements.createElement("fulldialog",{darkMode:a.darkMode,bmApis:a,onNewTab:function(){a.openTab(i)},lockup:{label:cjBasics.lang.i18n("cj_i18n_00819","Chat")},iconName:"chat",message:cjBasics.lang.i18n("cj_i18n_01336","You need to use a G Suite account to use Hangouts Chat"),actionLabel:cjBasics.lang.i18n("cj_i18n_00234","Change account"),action:function(){a.pageManager.navigate("accountchooser")}});e.appendChild(n)}var c="#00897B",t="https://chat.google.com",i=t+"/u/"+a.account.authuser+"/";if(a.account.displayEmail&&(a.account.displayEmail.endsWith("@gmail.com")||a.account.displayEmail.endsWith("@googlemail.com")))return void n();var o=bmElements.createElement("ogb",{drawer:{color:c},serviceIcon:"chat",serviceLabel:cjBasics.lang.i18n("cj_i18n_00819","Chat"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:a,onNewTab:function(){d.getCleanUrl(t).then(function(e){var n=e||i;a.openTab(n)})}});e.appendChild(o);var s=o.cjceDrawerEle,l={home:{iconName:"__mdi:home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),shortcutId:"559",divider:!0},meet:{iconName:"__mdi:meet",label:cjBasics.lang.i18n("cj_i18n_00809","Meet"),shortcutId:"545",external:!a.servicesDatabase.meet},hangouts:{iconName:"__mdi:hangout",label:cjBasics.lang.i18n("cj_i18n_01337","Classic Hangouts"),shortcutId:"218"}},r=bmElements.createElement("navlist",{selectedId:"home",items:l,onClick:function(e){"home"!==e&&a.pageManager.navigate(e)},onNewTab:function(e,n){var c=n.newTabUrl||cjgShortcuts.getUrl(n.shortcutId,a.account);a.openTab(c)}});s.appendChild(r);var u=cjBasics.urlParams.attach(i,{bm_xfo:a.sid,bm_cid:"chat",bm_cst:"1",bm_wiz:"1",hl:cjBasics.lang.current}),m=cjBasics.webRequest.addListener("onBeforeRequest",function(n){e.textContent="";var c=bmElements.createElement("fulldialog",{darkMode:a.darkMode,bmApis:a,onNewTab:function(){a.openTab(i)},lockup:{label:cjBasics.lang.i18n("cj_i18n_00819","Chat")},iconName:"chat",message:cjBasics.lang.i18n("cj_i18n_01336","You need to use a G Suite account to use Hangouts Chat"),actionLabel:cjBasics.lang.i18n("cj_i18n_00234","Change account"),action:function(){a.pageManager.navigate("accountchooser")}});return e.appendChild(c),m.removeListener(),{redirectUrl:"about:blank"}},{urls:["https://chat.google.com/error/noaccess*"]},["blocking"]),d=bmElements.createElement("iframe",{solid:!0,shadow:!0,src:u,displayLoading:!0,onMessage:function(e){var a=e.bm_method,n=e.bm_value;"chatHideNav"===a&&(o.hidden=n)}});e.appendChild(d)}});