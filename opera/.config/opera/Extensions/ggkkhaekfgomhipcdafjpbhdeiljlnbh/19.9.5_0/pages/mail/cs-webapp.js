!function(){"use strict";function e(e,t){var n=document.querySelectorAll(e);t===-1&&(t=n.length-1),n[t].click()}function t(){var e=m.getAttribute("style").indexOf("display: none")===-1;window.location.hash.replace("#","").startsWith("tl")&&window.parent.postMessage({bm_method:"mailToggleSelection",bm_value:e},r)}function n(){var e=new window.MutationObserver(t);e.observe(m,{attributes:!0,childList:!1,subtree:!1})}function i(){m=document.querySelector(s),m&&(n(),t())}function o(){i(),m&&document.removeEventListener("click",o),setTimeout(function(){m||o()},200)}function a(){i(),m||document.addEventListener("click",o)}if("https://mail.google.com"===window.location.origin&&window.location.pathname.indexOf("mu/mp")!==-1&&window.top!==window){var d="undefined"!=typeof chrome&&chrome.runtime?chrome:"undefined"!=typeof browser&&browser,r=d.runtime.getURL("PATH").replace("/PATH",""),c=d.runtime.getURL("").startsWith("moz-extension://"),s='div[style*="translate3d"] > div:first-child',m=document.querySelector(s);window.addEventListener("message",function(t){if(t.origin===r&&(t.isTrusted||c)){var n=t.data||{},i=n.bm_method,o=n.bm_value;if("mailClickEle"===i){var a=o[0],d=o[2],s=o[1]||0;d?(e(a,d),setTimeout(function(){e(a,s)})):e(a,s)}}}),window.addEventListener("hashchange",function(){window.parent.postMessage({bm_method:"mailHashChange",bm_value:window.location.hash.replace("#","")},r)}),window.addEventListener("DOMContentLoaded",function(){window.location.href.indexOf("bm_mail_bigtop")!==-1&&(document.documentElement.dataset.bmBigtop="1"),window.parent.postMessage({bm_method:"mailPageUrl",bm_value:window.location.href},r),a()})}}();