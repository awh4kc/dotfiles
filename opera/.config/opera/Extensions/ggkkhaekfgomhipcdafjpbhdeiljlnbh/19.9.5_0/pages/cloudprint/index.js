cjModules.define(function(){"use strict";return function(e,n){function t(e){n.openTab(N+"#jobs/"+e)}function a(e,n){n=n||{},n.authuser=g;var t=cjBasics.urlParams.attach(C+"/"+e,n);return cjBasics.ajax(t,{fetchAs:"json",headers:{"X-CloudPrint-Proxy":"Google-JS"}})}function i(e){return T[e]||{name:"__mdi:drive_file",color:v}}function c(e){var n=mdElements.createElement("item");n.addEventListener("click",function(){t(e.id)});var a=i(e.contentType);a.withShell=!0;var c=mdElements.createElement("icon",a);n.appendChild(c);var l=document.createElement("div");l.className="cj-md-item__body";var r=document.createElement("div");r.className="cj-md-item__header",r.textContent=e.title,l.appendChild(r);var d=document.createElement("div");d.className="cj-md-secondarytext";var o=cjBasics.datetime.printDateString(parseInt(e.createTime,10)),s=document.createTextNode(cjBasics.lang.i18n("cj_i18n_00011","created")+": "+o+" - "+cjBasics.lang.i18n("cj_i18n_00012","status")+": "+e.status);return d.appendChild(s),l.appendChild(d),n.appendChild(l),n}function l(e){var n=mdElements.createElement("container",{scrollable:!0,shadow:"thinOnScroll"});bmElements.setLoading(n,!0),_.appendChild(n),a("jobs",{q:e}).then(function(e){n.textContent="";var t=e.jobs;if(0===t.length){var a=mdElements.createElement("emptystate",{color:v,label:cjBasics.lang.i18n("cj_i18n_00374","No print jobs found"),iconName:"__mdi:insert_drive_file"});n.appendChild(a)}else{var i=mdElements.createElement("list");t.forEach(function(e){var n=c(e);i.appendChild(n)}),n.appendChild(i)}bmElements.setLoading(n,!1)})}function r(e){var t=mdElements.createElement("item");t.addEventListener("click",function(){n.openTab(N+"#printers/"+e.id)});var a={ANDROID_CHROME_SNAPSHOT:"chrome",DRIVE:"drive"},i=mdElements.createElement("icon",{serviceName:a[e.type]||"cloudprint"});t.appendChild(i);var c=document.createElement("div");c.className="cj-md-item__body";var l=document.createElement("div");l.className="cj-md-item__header",l.textContent=e.displayName,c.appendChild(l);var r=[];if(e.ownerId===n.account.displayEmail&&r.push(cjBasics.lang.i18n("cj_i18n_00013","owned by me")),"UNKNOWN"!==e.connectionStatus&&r.push(e.connectionStatus),0===r.length){var d=document.createElement("div");d.className="cj-md-secondarytext";var o=r.join(" - "),s=document.createTextNode(o);d.appendChild(s),c.appendChild(d)}return t.appendChild(c),t}function d(){var e=mdElements.createElement("container",{scrollable:!0,shadow:"thinOnScroll"});bmElements.setLoading(e,!0),_.appendChild(e),a("search").then(function(n){var t=n.printers;if(0===t.length){var a=mdElements.createElement("emptystate",{color:v,label:cjBasics.lang.i18n("cj_i18n_00372","No printers found"),iconName:"__mdi:print"});e.appendChild(a)}else{var i=mdElements.createElement("list");t.forEach(function(e){var n=r(e);i.appendChild(n)}),e.appendChild(i)}bmElements.setLoading(e,!1)})}function o(e,n){_.textContent="","printers"===e?d():l(n)}function s(e,n){E===e&&f===n||(E=e,j.cjceSelectedId=e,b.cjceSetPageLabel(w[e].label),o(e,n))}function m(e){s("jobs",e)}function p(e){var t=N+"#jobs?q="+encodeURIComponent(e);n.openTab(t)}function u(){b=bmElements.createElement("ogb",{darkMode:n.darkMode,drawer:{color:v},serviceIcon:"cloudprint",serviceLabel:cjBasics.lang.i18n("cj_i18n_00332","Cloud Print"),pageLabel:cjBasics.lang.i18n("cj_i18n_00052","Print Jobs"),searchbox:{color:v,onClear:m,onSubmit:m,onSubmitAlt:p},bmApis:n,onNewTab:function(){var e=N+"#"+E;"jobs"===E&&f&&(e+="?q="+encodeURIComponent(f)),n.openTab(e)}}),e.appendChild(b),h=b.cjceSearchboxEle,n.onPageDisplay(h.select),j=bmElements.createElement("navlist",{isSelector:!0,selectedId:E,items:w,onChange:s,onNewTab:function(e,t){n.openTab(t.newTabUrl)}}),b.cjceDrawerEle.appendChild(j),_=mdElements.createElement("container",{darkMode:n.darkMode}),e.appendChild(_),o(E)}var _,h,b,j,v="#1a73e8",E="jobs",f="",C="https://www.google.com/cloudprint",g=n.account.authuser,N=C;"0"!==g&&(N+="?authuser="+g);var w={jobs:{label:cjBasics.lang.i18n("cj_i18n_00052","Print Jobs"),iconName:"__mdi:insert_drive_file",newTabUrl:N+"#jobs"},printers:{label:cjBasics.lang.i18n("cj_i18n_00053","Printers"),iconName:"__mdi:print",newTabUrl:N+"#printers",divider:!0},addCloud:{label:cjBasics.lang.i18n("cj_i18n_01287","Add a Cloud-Ready Printer"),iconName:"__mdi:add_circle_outline",newTabUrl:"https://www.google.com/cloudprint/learn/printers/",external:!0},addClassic:{label:cjBasics.lang.i18n("cj_i18n_01288","Add a Classic Printer"),iconName:"__mdi:add_circle_outline",newTabUrl:"https://support.google.com/cloudprint?p=mgmt_classic"+("0"!==g?"&authuser="+g:""),external:!0}},T={"application/pdf":{name:"__mdi:drive_pdf",color:"#ea4335"},"text/plain":{name:"__mdi:drive_text",color:v}};u()}});