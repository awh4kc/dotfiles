cjModules.define(function(){"use strict";return function(e,n,t){function a(){var t=bmElements.createElement("fulldialog",{darkMode:m,bmApis:n,onNewTab:function(){var e=cjgShortcuts.getUrl("540",n.account);n.openTab(e)},lockup:{label:cjBasics.lang.i18n("cj_i18n_00081","Reminders")},iconName:"reminders",message:cjBasics.lang.i18n("cj_i18n_00212","To use Reminders, you need to give access to load your Google Reminders data"),actionLabel:cjBasics.lang.i18n("cj_i18n_01178","Continue"),action:function(){cjgApis.auth.requestPermissions(n.account,p)}});e.appendChild(t)}function i(){return cjgApis.request("https://www.googleapis.com/reminders/v1internal/reminders/list?fields=*",{method:"POST",fetchAs:"json",headers:{"Content-Type":"application/json"},body:JSON.stringify({includeDeleted:!1,includeArchived:!1})},{internal:!0,account:n.account,requiredScopes:p}).then(function(e){return console.log(e),e.task.sort(function(e,n){var t=!e.hasOwnProperty("dueDate"),a=!n.hasOwnProperty("dueDate");if(t&&a)return e.title>n.title?1:-1;if(t)return 1;if(a)return-1;var i=e.dueDate.unspecifiedFutureTime===!0,s=n.dueDate.unspecifiedFutureTime===!0;if(i&&s)return e.title>n.title?1:-1;if(i)return 1;if(s)return-1;var r=parseInt(e.dueDate.absoluteTimeMs,10),c=parseInt(n.dueDate.absoluteTimeMs,10),o=e.dueDate.allDay,l=n.dueDate.allDay;if(e.dueDate.day===n.dueDate.day){if(o&&l||r===c)return e.title>n.title?1:-1;if(o)return-1;if(l)return 1}return r>c?-1:1})},a)}function s(e){var t=e.extensions&&e.extensions.keepExtension&&e.extensions.keepExtension.clientNoteId;if(t)return{label:cjBasics.lang.i18n("cj_i18n_00215","View note"),onClick:function(){var e="https://keep.google.com/u/"+n.account.authuser+"/#NOTE/"+t;n.openTab(e)}};var a=e.assistance&&e.assistance.taskAssistance&&e.assistance.taskAssistance.assistance&&e.assistance.taskAssistance.assistance[0];if(!a)return null;if(a.callAction){var i=a.callAction.phoneNumber;if(!i)return null;var s=i[0]&&i[0].phoneNumber;return s?{label:cjBasics.lang.i18n("cj_i18n_00213","Call"),onClick:function(){var e=cjBasics.urlParams.attach("https://hangouts.google.com/",{authuser:n.account.authuser,action:"chat",pn:s});n.openTab(e)}}:null}if(a.emailAction){var r=a.emailAction.emailAddress&&a.emailAction.emailAddress[0]&&a.emailAction.emailAddress[0].emailAddress;return{label:cjBasics.lang.i18n("cj_i18n_00214","Email"),onClick:function(){n.openTab("mailto:"+r)}}}return null}function r(e){if(e.unspecifiedFutureTime)return"Someday";var n=new Date;return n.setFullYear(e.year),n.setMonth(e.month-1),n.setDate(e.day),e.time&&(n.setHours(e.time.hour),n.setMinutes(e.time.minute),n.setSeconds(e.time.second)),cjBasics.datetime.printDateString(n.getTime(),{time:!e.allDay,weekday:!0})}function c(e){var n=mdElements.createElement("card",{withPadding:!0}),t=mdElements.createElement("title",{label:e.title||cjBasics.lang.i18n("cj_i18n_01737","(No title)")});if(n.appendChild(t),e.dueDate){var a=document.createElement("div");a.className="cj-md-secondarytext",a.textContent=r(e.dueDate),n.appendChild(a)}var i=s(e);if(i){var c=mdElements.createElement("button",{color:!0,label:i.label,onClick:i.onClick});n.appendChild(c)}return n}function o(){bmElements.setLoading(u,!0),u.textContent="",i().then(function(e){e.forEach(function(e){var n=c(e);u.appendChild(n)}),bmElements.setLoading(u,!1)},function(){var e=mdElements.createElement("emptystate",{color:"#1a73e8",label:cjBasics.lang.i18n("cj_i18n_01499","No reminders found"),iconName:"__mdi:reminder"});u.appendChild(e),bmElements.setLoading(u,!1)})}function l(){if(!d){var t=bmElements.createElement("ogb",{darkMode:m,serviceIcon:"reminders",serviceLabel:cjBasics.lang.i18n("cj_i18n_00081","Reminders"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:n,onNewTab:function(){var e=cjgShortcuts.getUrl("540",n.account);n.openTab(e)}});e.appendChild(t)}u=mdElements.createElement("container",{darkMode:m,scrollable:!0,shadow:"transparentOnScroll"}),o(),e.appendChild(u)}t=t||{};var u,d=t.embedded,m="boolean"==typeof t.darkMode?t.darkMode:n.darkMode,p=["https://www.googleapis.com/auth/taskassist.readonly","https://www.googleapis.com/auth/reminders"];l()}});