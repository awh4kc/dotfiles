!function(){"use strict";function e(){document.querySelector(l)||(n=document.querySelector('path[d*="16V6h-4v14z"]'),n?n.parentNode.parentNode.click():setTimeout(e,10))}function t(){var e=document.querySelector(l);e||(window.parent.postMessage({bm_method:"calendargapiNeweventClose"},a),clearInterval(r))}function i(){r&&clearInterval(r),r=setInterval(t,50)}if(window.top!==window){var o=window.location;if("https://calendar.google.com"===o.origin){var n,r,d="undefined"!=typeof chrome&&chrome.runtime?chrome:"undefined"!=typeof browser&&browser,a=d.runtime.getURL("PATH").replace("/PATH",""),c=d.runtime.getURL("").startsWith("moz-extension://"),l='body > div[id] > div[isfullscreen="true"] > div > div[role="dialog"]';window.addEventListener("message",function(t){if(t.origin===a&&(t.isTrusted||c)){var o=t.data||{},n=o.bm_method;"calendargapiNeweventActivate"===n?setTimeout(e,100):"calendargapiNeweventCancel"===n?(i(),document.querySelector('body > div[id] > div[isfullscreen="true"] > div > div[role="dialog"] > content > div:first-child > div > div[role="button"][aria-label]').click()):"calendargapiNeweventSave"===n&&(i(),document.querySelector('body > div[id] > div[isfullscreen="true"] > div > div[role="dialog"] > content > div > div > div[role="button"] + div[role="button"]').click())}})}}}();