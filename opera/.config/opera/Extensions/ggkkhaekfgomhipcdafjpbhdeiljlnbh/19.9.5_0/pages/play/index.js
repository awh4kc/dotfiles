cjModules.define(function(){"use strict";return function(e,a,c,n){function s(e){C=e,U="home",V.src=r(e)}function i(e,c,n){var s=c||{};return s.authuser=a.account.authuser,n&&(s.bm_cid="play",s.bm_mua=a.sid,s.bm_wiz=a.sid,s.bm_cst="1",s.hl=cjBasics.lang.current),cjBasics.urlParams.attach(T+e,s)}function t(e,c){var n=i(e,c);a.openTab(n)}function o(e,a){t("/search",{q:e,c:l(a)})}function l(e){return e&&"all"!==e&&"entertainment"!==e?e:null}function r(e){var a=l(e),c=a?"/"+a:"";return i(c,{},!0)}function m(e){N=e,V.src=i("/search",{c:l(C),q:N},!0)}function p(){V.getCleanUrl(T).then(function(e){var c=e||T;a.openTab(c)})}function u(e){var c=H[e]||L[e],n=c.newTabUrl;if(c.newTabUrl===!0){var s=c.urlParams||{};s.authuser=a.account.authuser,n=cjBasics.urlParams.attach(w+c.pathname,s)}a.openTab(n)}function d(e,c){var n=c.searchType&&f.value;if(n)return void o(n,c.searchType);var s=c.newTabUrl;if(c.newTabUrl===!0){var i=c.urlParams||{};i.authuser=a.account.authuser,s=cjBasics.urlParams.attach(w+c.pathname,i)}a.openTab(s)}function h(){V.cjceSendFrameCommand({method:"playGoBack"},w)}function b(){return"music"===C?"music":"movies"===C?"movies":"books"===C?"books":S&&"apps"!==C?"all":"apps"}function _(e){var c=e.pathname;if(c.startsWith("/music"))return h(),void a.pageManager.navigate("music");if(c.startsWith("/movies"))return h(),void a.pageManager.navigate("movies");if(c.startsWith("/books"))return h(),void a.pageManager.navigate("books");var n=null,s=null;c.startsWith("/store/apps")||c.startsWith("/apps")?s="apps":c.startsWith("/store/movies")?s="movies":c.startsWith("/store/books")?s="books":c.startsWith("/store/music")?s="music":"/store"===c?s="all":"/store/account"===c?n="account":"/store/account/subscriptions"===c?n="subscriptions":"/settings"===c?n="settings":"/wishlist"===c?n="wishlist":"/store/people/details"===c&&e.search.indexOf(a.account.obfuscatedId)!==-1?n="playActivity":c.startsWith("/store/search")&&(n="search",s="all",e.search.indexOf("c=music")!==-1?s="music":e.search.indexOf("c=books")!==-1?s="books":e.search.indexOf("c=apps")!==-1?s="apps":e.search.indexOf("c=movies")!==-1&&(s="movies"));var i=z.getEle("all");i&&(i.textContent="search"===n?P:M);var t=["/store","/store/apps","/store/movies","/store/books","/store/music"];t.indexOf(c)!==-1&&(n="home");var o="home"!==n&&"search"!==n;F.hidden=!s,z.selected=s,z.style.color=L[s]&&L[s].color||x,v.cjceSelectedId=n;var l=H[n];if("search"!==n){var r=l&&l.label||E;g.cjceSetPageLabel(r)}g.cjceSetBackState("home"!==n),j.cjceSetCollapseState("search"===n),f.hidden=o,y.hidden=!o,U=n,C=s}var g,v,j,f,y,w="https://play.google.com",T=w+"/store",B=cjBasics.navigator.vivaldi,k="string"==typeof cjBasics.lang.current&&"en"===cjBasics.lang.current.split("-")[0].split("_")[0],S=k,C=n.typeId||(S?"all":"apps"),U="home",N="",E="Loading...",P=cjBasics.lang.i18n("cj_i18n_00107","All"),M=cjBasics.lang.i18n("cj_i18n_01697","Entertainment"),x="#212121",A="",I="";"0"!==a.account.authuser&&(A+="?authuser="+a.account.authuser,I+="?u="+a.account.authuser);var H={home:{iconName:"__mdi:home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),pathname:"/store",newTabUrl:!0},account:{iconName:"__mdi:account_circle",label:cjBasics.lang.i18n("cj_i18n_00481","Account"),pathname:"/store/account",newTabUrl:!0},subscriptions:{iconName:"__mdi:autorenew",label:cjBasics.lang.i18n("cj_i18n_01089","Subscriptions"),pathname:"/store/account/subscriptions",newTabUrl:!0},wishlist:{iconName:"__mdi:cjg_wishlist",label:cjBasics.lang.i18n("cj_i18n_00550","Wishlist"),pathname:"/wishlist",newTabUrl:!0},playActivity:{iconName:"__mdi:rate_review",label:cjBasics.lang.i18n("cj_i18n_01696","My Play activity"),pathname:"/store/people/details",urlParams:{id:a.account.obfuscatedId},newTabUrl:!0},settings:{iconName:"__mdi:settings",label:cjBasics.lang.i18n("cj_i18n_00298","Settings"),pathname:"/settings",newTabUrl:!0},appsHeader:{header:!0,label:cjBasics.lang.i18n("cj_i18n_01195","Apps")},movies:{label:cjBasics.lang.i18n("cj_i18n_01725","Play Movies & TV"),iconName:"__mdi:play_movies",color:"#ea4335",pathname:"/movies",newTabUrl:!0,colorIcon:!0},books:{label:cjBasics.lang.i18n("cj_i18n_00285","Play Books"),iconName:"__mdi:play_books",color:"#03a9f4",pathname:"/books",newTabUrl:!0,colorIcon:!0},music:{label:cjBasics.lang.i18n("cj_i18n_00431","Play Music"),iconName:"__mdi:play_music",color:"#ff5722",newTabUrl:"https://play.google.com/music/listen"+I,colorIcon:!0},linksHeader:{header:!0,color:x,label:cjBasics.lang.i18n("cj_i18n_00047","More")},redeem:{iconName:"__mdi:redeem",label:cjBasics.lang.i18n("cj_i18n_01677","Redeem code"),pathname:"/store",urlParams:{code:""},newTabUrl:!0,external:!B},giftcard:{iconName:"__mdi:card_giftcard",label:cjBasics.lang.i18n("cj_i18n_01694","Buy gift card"),pathname:"/about/giftcards/",newTabUrl:!0,external:!B},help:{iconName:"__mdi:help_outline",label:cjBasics.lang.i18n("cj_i18n_00438","Help"),newTabUrl:"https://support.google.com/googleplay"+A,external:!B},parentGuide:{iconName:"__mdi:supervisor_account",label:cjBasics.lang.i18n("cj_i18n_01695","Parent guide"),newTabUrl:"https://support.google.com/googleplay/answer/6209547"+A,external:!B}},L={all:{searchType:"all",label:M,pathname:"/store",iconName:"__mdi:cj_play_entertainment",newTabUrl:!0,color:x},apps:{searchType:"apps",label:cjBasics.lang.i18n("cj_i18n_00216","Apps"),pathname:"/store/apps",iconName:"__mdi:cj_play_android",newTabUrl:!0,color:"#34a853"},movies:{searchType:"movies",label:cjBasics.lang.i18n("cj_i18n_00480","Movies"),pathname:"/store/movies",iconName:"__mdi:play_movies",newTabUrl:!0,color:"#ea4335"},books:{searchType:"books",label:cjBasics.lang.i18n("cj_i18n_00218","Books"),pathname:"/store/books",iconName:"__mdi:play_books",newTabUrl:!0,color:"#03a9f4"},music:{searchType:"music",label:cjBasics.lang.i18n("cj_i18n_00219","Music"),pathname:"/store/music",iconName:"__mdi:play_music",newTabUrl:!0,color:"#ff5722"}};if(S||delete L.all,B){g=bmElements.createElement("ogb",{darkMode:a.darkMode,serviceIcon:"play",serviceLabel:cjBasics.lang.i18n("cj_i18n_00430","Play Store"),pageLabel:cjBasics.lang.i18n("cj_i18n_01167","Links"),searchbox:{onSubmit:o,submitInNewTab:!0},bmApis:a,onNewTab:function(){u("home")}}),e.appendChild(g),f=g.cjceSearchboxEle,a.onPageDisplay(f.select);var W=mdElements.createElement("container",{darkMode:a.darkMode,scrollable:!0,shadow:"thinOnScroll"});e.appendChild(W);var O=Object.keys(L).map(function(e){return L[e]}),q=["appsHeader","movies","books","music","linksHeader","account","subscriptions","wishlist","playActivity","redeem","giftcard","parentGuide","settings","help"],D=q.map(function(e){var a=H[e];return a.id=e,a});return O=O.concat(D),v=bmElements.createElement("navlist",{items:O,onClick:function(e,c){"movies"===e||"books"===e||"music"===e?a.pageManager.navigate(e):d(e,c)},onNewTab:d}),void W.appendChild(v)}g=bmElements.createElement("ogb",{drawer:{color:x},searchbox:{color:x,onClear:function(){j.cjceSetCollapseState("search"===U),setTimeout(function(){j.cjceSetCollapseState("search"===U)})},onSubmit:m,onSubmitAlt:function(e){o(e,C)}},serviceIcon:"play",serviceLabel:cjBasics.lang.i18n("cj_i18n_00430","Play Store"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:a,onNewTab:p,onBack:function(){"search"===U?(N="",f.value="",C=b(),z.selected=C,V.src=r(C)):h()}}),e.appendChild(g);var G=g.cjceDrawerEle;j=g.cjceNavigatorEle,f=g.cjceSearchboxEle,a.onPageDisplay(f.select),v=bmElements.createElement("navlist",{isSelector:!0,compact:!1,items:H,selectedId:U,onChange:function(e){if("music"===e||"movies"===e||"books"===e)a.pageManager.navigate(e),v.cjceSelectedId=U;else{var c=H[e]||{};V.cjceSendFrameCommand({method:"playClickUrl",value:c.pathname},w)}},onNewTab:u}),G.appendChild(v),y=mdElements.createElement("iconbutton",{iconName:"__mdi:search",onClick:function(){V.src=i("/search",{q:N,c:l(C)},!0),g.cjceSetBackState(!0),j.cjceSetCollapseState(!0),f.hidden=!1,y.hidden=!0,f.select()}}),y.hidden=!0,g.cjceAppendChild(y);var R=r(C);cjBasics.webRequest.addListener("onHeadersReceived",function(e){var a=e.responseHeaders.filter(function(e){return"x-frame-options"!==e.name.toLowerCase()&&"content-security-policy"!==e.name.toLowerCase()});return{responseHeaders:a}},{types:["sub_frame"],urls:["https://play.google.com/*"]},["blocking","responseHeaders"]);var F=mdElements.createElement("appbar",{solid:!0,secondary:!0}),z=mdElements.createElement("tabs",{fill:!0,color:L[C]&&L[C].color||x,items:L,onChange:function(e){z.style.color=L[e].color,"search"===U?(C=e,V.src=i("/search",{c:l(C),q:N},!0)):s(e)},onActiveClick:function(e){"search"!==U&&s(e)},onAltClick:u,selected:C});F.appendChild(z),e.appendChild(F);var V=bmElements.createElement("iframe",{src:R,solid:!0,shadow:!0,onMessage:function(e){var a=e.bm_method,c=e.bm_value;"playWebsiteTitle"===a?(E=c,U||g.cjceSetPageLabel(E)):"playUrlUpdate"===a&&_(c)}});e.appendChild(V)}});