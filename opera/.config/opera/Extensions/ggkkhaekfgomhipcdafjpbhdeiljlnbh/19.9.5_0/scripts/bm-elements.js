!function(){"use strict";function e(e){var a=document.createElement("div");if(a.className="bm-ele-lockup",e.icon){var n=document.createElement("img");n.src="images/32/"+e.icon+"_32dp.svg",n.className="bm-ele-lockup__icon",a.appendChild(n)}if(e.logo){var t=document.createElement("img");t.src=e.logo,t.className="bm-ele-lockup__logo",a.appendChild(t)}var i=e.label||"";if(e.google&&(i="google_logo "+i),i){a.classList.add("bm-ele-lockup--fill");var c=document.createElement("h3");c.className="bm-ele-lockup__label",c.textContent=i,"color"===e.google&&c.classList.add("bm-ele-lockup__label--color"),a.appendChild(c)}return a}function a(e){return e.label=e.label||cjBasics.lang.i18n("cj_i18n_00085","Search"),mdElements.createElement("searchbox",e)}function n(e){var a="object"==typeof e&&null!==e?e:{},n=document.createElement("div");return n.className="cj-md-topdrawer cj-md-sheet cj-md-sheet--top",a.color&&(n.style.color=a.color),n.cjceToggle=function(e){n.classList.toggle("cj-md-sheet--open",e)},n}function t(a){var t=document.createElement("div");t.className="bm-ele-ogb",a.floating&&!a.drawer&&t.classList.add("bm-ele-ogb--floating");var i;a.drawer&&(i=n(a.drawer),a.darkMode&&i.classList.add("cj-md--dark"),t.appendChild(i),t.cjceDrawerEle=i);var l=mdElements.createElement("appbar",{darkMode:a.darkMode,withShadow:a.withShadow,floating:a.floating,color:a.color||(a.darkMode?"#404447":"#fff"),aboveTopDrawer:Boolean(a.drawer)||a.aboveTopDrawer});if(t.appendChild(l),t.cjceAppbarEle=l,a.onBack){var s=mdElements.createElement("iconbutton",{theme:a.theme,iconName:"__mdi:arrow_back"});s.hidden=!a.displayBack,s.classList.add("bm-ele-ogb__back"),s.addEventListener("click",function(e){a.onBack&&a.onBack(e)}),t.cjceSetBackState=function(e){s.hidden=!e},l.appendChild(s)}if(a.serviceIcon){var r=e({icon:a.serviceIcon});i&&r.addEventListener("click",function(){i.cjceToggle()}),l.appendChild(r)}var d=a.searchbox;if(a.serviceLabel){var m={fullWidth:!0,serviceName:a.serviceLabel,dropdown:a.drawer||a.navigator,onClick:a.drawer?function(e){i.cjceToggle(),e.stopPropagation()}:a.navigator&&a.navigator.onClick,label:a.pageLabel||cjBasics.lang.i18n("cj_i18n_00291","Home")},u=mdElements.createElement("navigator",m);i&&document.addEventListener("click",function(e){i.cjceToggle(!1)}),l.appendChild(u),t.cjceNavigatorEle=u,t.cjceSetPageLabel=u.cjceSetPageLabel,t.cjceSetServiceLabel=u.cjceSetServiceLabel}else if(!d){var p=mdElements.createElement("title",{label:a.pageLabel||""});t.cjceSetPageLabel=function(e){p.textContent=e},l.appendChild(p)}if(d){var b=d.submitInNewTab?cjBasics.lang.i18n("cj_i18n_00086","Search in new tab"):cjBasics.lang.i18n("cj_i18n_00085","Search");d.buttonTooltip=d.buttonTooltip||b;var g=mdElements.createElement("searchbox",{theme:a.theme,color:!a.darkMode&&d.color,label:d.label||cjBasics.lang.i18n("cj_i18n_00085","Search"),iconName:d.iconName||(d.submitInNewTab?"__mdi:cj_search_in_new":"__mdi:search"),buttonTooltip:d.buttonTooltip||(d.submitInNewTab?cjBasics.lang.i18n("cj_i18n_00086","Search in new tab"):cjBasics.lang.i18n("cj_i18n_00085","Search")),onSubmitAlt:d.onSubmitAlt,onSubmit:d.onSubmit,collapsable:d.collapsable,onInput:function(e){u&&u.cjceSetCollapseState(Boolean(e)),i&&i.cjceToggle(!1),d.onInput&&d.onInput(e)},onClear:function(){i&&i.cjceToggle(!1),u&&!d.collapsable&&u.cjceSetCollapseState(!1),d.onClear&&d.onClear()}});if(l.appendChild(g),t.cjceSearchboxEle=g,d.searchmenu){var v=o({variant:"searchmenu",hidden:!0});g.cjceSearchmenuEle=v,g.insertBefore(v,g.firstChild),g.addEventListener("click",function(e){e.stopPropagation()})}}var f=c({theme:a.theme,onNewTab:a.onNewTab,bmApis:a.bmApis}),_=f.firstChild;return l.appendChild(f),t.cjceAppendChild=function(e){l.insertBefore(e,_)},t}function i(e,a,n,t){var i=e.cjceAppEle;i?i.classList.toggle("bm-ele-popupapp--open"):(i=_({pageId:a,bmApis:n}),e.cjceAppEle=i,i.classList.add("bm-ele-popupapp","bm-ele-popupapp--open"),t&&i.classList.add("bm-ele-popupapp--autoheight"),e.appendChild(i),document.body.addEventListener("click",function(a){a.target!==e&&(i.classList.remove("bm-ele-popupapp--open"),e.cjceToggleActiveState(!1))}),i.addEventListener("click",function(e){e.stopPropagation()})),e.cjceToggleActiveState()}function c(e){var a=e.onNewTab,n=e.bmApis,t=n&&n.ogbFeatures,c=document.createDocumentFragment();if(!t)return c;var l=n.account;if(a&&t.onNewTab){var o=mdElements.createElement("iconbutton",{theme:e.theme,iconName:"__mdi:open_in_new",label:cjBasics.lang.i18n("cj_i18n_00084","Open service in new tab"),onClick:a});c.appendChild(o)}if(t.notifications){var s=mdElements.createElement("iconbutton",{theme:e.theme,iconName:"__mdi:notifications",onClick:function(e){i(s,"notifications",n)}});c.appendChild(s),cjgApis.ogs.getNotificationsCount(l).then(function(e){e&&(s.dataset.count=e)})}if(t.accountchooser){var r=l.pageId?cjBasics.lang.i18n("cj_i18n_00363","Brand account"):l.displayEmail,d=l.displayName+"\n"+r,m=mdElements.createElement("iconbutton",{label:d,icon:{size:32,circle:!0,url:l.photoUrl+"?sz="+Math.ceil(32*window.devicePixelRatio),backupUrl:"/images/avatar.svg"},onClick:function(e){i(m,"accountchooser",n,!0)}});c.appendChild(m)}if(t.signin){var u=mdElements.createElement("button",{label:cjBasics.lang.i18n("cj_i18n_01544","Sign in"),fill:!0,color:!0,onClick:function(){cjgApis.account.signin(l)}});c.appendChild(u)}return c}function l(a){var n=document.createElement("div");if(n.className="bm-ele-fulldialog",!a.inline){n.classList.add("bm-ele-fulldialog--floating");var t=mdElements.createElement("appbar",{floating:!0});t.classList.add("bm-ele-fulldialog__tools"),n.appendChild(t);var i=c({theme:a.theme,onNewTab:a.onNewTab,bmApis:a.bmApis});t.appendChild(i)}a.darkMode&&n.classList.add("bm-ele-fulldialog--dark","cj-md--dark");var l=document.createElement("div");l.classList.add("bm-ele-fulldialog__content"),n.appendChild(l);var o=a.lockup;if(a.iconName){var s=mdElements.createElement("icon",{serviceName:a.iconName,size:96});s.classList.add("bm-ele-fulldialog__icon"),l.appendChild(s)}if(a.lockup){var r=e(o);l.appendChild(r)}var d=document.createElement("div");if(d.className="bm-ele-fulldialog__message",d.textContent=a.message,l.appendChild(d),a.action||a.actionLabel){var m=mdElements.createElement("button",{fill:!0,color:!0,onClick:a.action,label:a.actionLabel});l.appendChild(m)}return n}function o(e){var a=document.createElement("div");return a.className="bm-ele-menu",e.hidden&&(a.hidden=!0),e.variant&&a.classList.add("bm-ele-menu--"+e.variant),a.addEventListener("click",function(n){n.stopPropagation();var t=n.target,i=t.dataset.id;if(i)if(a.hidden=!0,e.onChange&&e.isSelector){var c=a.querySelector(".bm-ele-menu__item--selected");t!==c&&(t.classList.add("bm-ele-menu__item--selected"),c&&c.classList.remove("bm-ele-menu__item--selected"),e.onChange(i,t))}else e.onClick&&e.onClick(i,t)}),document.body.addEventListener("click",function(){a.hidden=!0}),Array.isArray(e.items)&&e.items.forEach(function(n){var t=mdElements.createElement("item");n.id&&(t.dataset.id=n.id),n.id&&n.id===e.selectedId&&t.classList.add("bm-ele-menu__item--selected"),t.textContent=n.label,a.appendChild(t)}),a.cjceToggleState=function(e){var n="boolean"==typeof e?e:a.hidden;a.hidden=!n},e.isSelector&&Object.defineProperty(a,"cjceSelectedId",{get:function(){var e=a.querySelector(".bm-ele-menu__item--selected");return e&&e.dataset.id||null},set:function(e){var n=a.querySelector(':scope > [data-id="'+e+'"]');n&&n.classList.add("bm-ele-menu__item--selected")}}),a}function s(e,a,n){var t=n||"*";"*"===t&&console.error("frame messaging - missing origin"),e.postMessage({bm_method:a.method,bm_value:a.value,bm_request:a.request},t)}function r(e,a,n){var t=cjBasics.uniqueId.generate(),i=new Promise(function(e){function a(n){var i=n.data||{};i.bm_request===t&&(window.removeEventListener("message",a),e(i.bm_value))}window.addEventListener("message",a)});return s(e,{method:a.method,value:a.value,request:t},n),i}function d(e){var a=e.dataIframe,n=document.createElement("iframe");n.src=e.src||"about:blank","string"==typeof e.sandbox&&(n.sandbox=e.sandbox),"string"==typeof e.allow&&(n.allow=e.allow),(e.onLoad||e.displayLoading)&&n.addEventListener("load",function(){e.onLoad&&e.onLoad(),e.displayLoading&&h(t,!1)}),e.onMessage&&window.addEventListener("message",function(a){a.source===n.contentWindow&&a.origin===new window.URL(n.src).origin&&e.onMessage(a.data||{})});var t;if(a)t=n,t.hidden=!0,t.setAttribute("style","display: none !important;");else{if(t=mdElements.createElement("container",{color:e.color,solid:e.solid,darkMode:e.darkMode,shadow:!!e.shadow&&"thin"}),t.classList.add("bm-ele-iframe"),n.classList.add("bm-ele-iframe__iframe"),!navigator.onLine){n.hidden=!0;var i=l({inline:!0,darkMode:e.darkMode,message:cjBasics.lang.i18n("cj_i18n_01177","You are offline, please connect to a network"),actionLabel:cjBasics.lang.i18n("cj_i18n_01176","Try again"),action:function(){if(navigator.onLine){i.hidden=!0;var e=n.src;n.src="about:blank",n.hidden=!1,setTimeout(function(){n.src=e})}}});t.appendChild(i)}e.displayLoading&&h(t,!0),Object.defineProperty(t,"src",{get:function(){return n.src},set:function(e){n.src=e}}),t.cjceIframeEle=n,t.appendChild(n)}return t.cjceSendFrameRequest=function(e,a){return r(n.contentWindow,e,a)},t.cjceSendFrameCommand=function(e,a){return s(n.contentWindow,e,a)},t.getCleanUrl=function(e){return new Promise(function(a){var t=n&&n.contentWindow;if(!t)return void a(null);var i=!1;r(t,{method:"bmGetFrameUrl"},e).then(function(e){if(i=!0,e&&"about:blank"!==e){var n=cjBasics.cleanBmUrl(e);a(n)}else a(null)}),setTimeout(function(){i||a(null)},1e3)})},t}function m(e){var a=e.icon;!a&&e.iconName&&(a={serviceName:e.iconName});var n=mdElements.createElement("item",{icon:a,label:e.label});return n.cjceNewTabUrl=e.newTabUrl,n}function u(e){var a=document.createElement("ul");a.className="bm-ele-shortcutlist";var n=e.items;return Array.isArray(n)&&n.forEach(function(e){var n=m(e);a.appendChild(n)}),e.onNewTab&&a.addEventListener("click",function(a){var n=a.target&&a.target.cjceNewTabUrl;n&&e.onNewTab(n)}),a}function p(e,a,n){var t=mdElements.createElement("item");t.classList.add("bm-ele-navlist__item");var i=e.iconName;if(e.icon||i){e.icon&&!e.icon.theme&&(e.icon.theme=e.theme);var c=mdElements.createElement("icon",e.icon||{theme:e.theme||a,name:i});c.classList.add("bm-ele-navlist__icon"),t.appendChild(c)}var l=document.createElement("div");if(l.className="cj-md-item__body",l.textContent=e.label,t.appendChild(l),t.cjceNavlistId=e.id,e.color&&(t.style.color=e.color),n&&t.classList.add("bm-ele-navlist__item--selected"),e.colorIcon&&t.classList.add("bm-ele-navlist__item--color"),e.divider&&t.classList.add("bm-ele-navlist__item--divider"),e.external&&t.classList.add("bm-ele-navlist__item--external"),null!==e.newTabUrl&&"undefined"!=typeof e.newTabUrl||e.shortcutId||e.external){var o=mdElements.createElement("iconbutton",{theme:e.theme,iconName:"__mdi:open_in_new",label:cjBasics.lang.i18n("cj_i18n_01545","Open in a new tab")});o.classList.add("bm-ele-navlist__openinnew"),t.appendChild(o)}return t}function b(e){function a(e){var a=o&&o in i&&i[o].domEle;a&&a.classList.remove("bm-ele-navlist__item--selected");var n=e&&e in i&&i[e].domEle;n&&n.classList.add("bm-ele-navlist__item--selected"),o=e}function n(n,t){return o===n?void(e.onSelectedClick&&e.onSelectedClick(n,t)):(a(n),void(e.onChange&&e.onChange(n,t)))}function t(e,a){if(e.header){var n=mdElements.createElement("subheader",e);return void c.appendChild(n)}var t=e.id;t||(t=cjBasics.uniqueId.generate(),e.id=t);var l=t&&t===o,s=p(e,a,l);t&&(i[t]=e,i[t].domEle=s),c.appendChild(s)}var i={},c=mdElements.createElement("list");c.classList.add("bm-ele-navlist"),e.compact&&c.classList.add("bm-ele-navlist--compact"),e.noIcons&&c.classList.add("bm-ele-navlist--noicons");var l=e.isSelector,o=e.selectedId,s=e.onClick;return l&&Object.defineProperty(c,"cjceSelectedId",{get:function(){return o},set:function(e){a(e,!1)}}),c.cjceGetItemEle=function(e){return e&&e in i&&i[e].domEle},c.addEventListener("click",function(a){var t,c,o,r=a.target;return r.classList.contains("bm-ele-navlist__openinnew")?(t=r.parentNode,c=t.cjceNavlistId,o=i[c],void e.onNewTab(c,o)):r.classList.contains("bm-ele-navlist__item")?(t=r,c=t.cjceNavlistId,o=i[c],t.classList.contains("bm-ele-navlist__item--external")||a[E]||1===a.button?void e.onNewTab(c,o):l?void n(c,o):void(s&&s(c,o))):void 0}),Array.isArray(e.items)?e.items.forEach(function(a){t(a,e.theme)}):Object.keys(e.items).forEach(function(a){var n=e.items[a];n.id=a,t(n,e.theme)}),c}function g(e){return e.icon={url:"/images/add_color.svg",size:24},e.color=e.darkMode?"#2d2d2d":"#fff",e.light=!e.darkMode,mdElements.createElement("fab",e)}function v(e){var a=document.createElement("div");a.className="bm-ele-drawerdropdown",a.addEventListener("click",function(e){a.querySelector("select").click(),e.stopPropagation()});var n=mdElements.createElement("item",{iconName:e.iconName,label:e.label+": "});n.classList.add("bm-ele-drawerdropdown__item"),a.appendChild(n);var t=mdElements.createElement("selectbox",{onChange:e.onChange,options:e.items});return t.classList.add("bm-ele-drawerdropdown__select"),n.appendChild(t),e.selectedId&&(t.selected=e.selectedId),Object.defineProperty(a,"cjceSelectedId",{get:function(){return t.selected},set:function(e){t.select=e}}),a}function f(a){var n=document.createElement("div");n.className="bm-ele-inlinepermission",a.divider&&n.classList.add("bm-ele-inlinepermission--divider");var t=e({icon:"my_account"});t.classList.add("bm-ele-inlinepermission__icon"),n.appendChild(t);var i=document.createElement("div");i.className="bm-ele-inlinepermission__description",i.textContent=a.description,n.appendChild(i);var c=mdElements.createElement("button",{label:cjBasics.lang.i18n("cj_i18n_01178","Continue"),color:!0,fill:a.fill||!1,onClick:a.onClick});return c.classList.add("bm-ele-inlinepermission__action"),n.appendChild(c),n}function _(e){var a=mdElements.createElement("container");a.classList.add("bm-ele-app");var n=e.bmApis,t=e.pageId,i=n.servicesDatabase[t]||{};"youtube"===i.theme&&a.classList.add("bm-ele-app--yttheme"),a.classList.add("bm-p-"+t);var c=[cjModules.require("/pages/"+t+"/index")];return i.extraCss&&c.push(cjBasics.resources.loadStyle("pages/"+t+"/index.css")),Promise.all(c).then(function(t){t[0](a,n,e.pageParameters||{},e.sessionParameters||{})}),a}function h(e,a){"string"==typeof a&&e.classList.add("bm-ele-loading--"+a),e.classList.toggle("bm-ele-loading",a)}function j(e){var a=e.bmApis,t={gasuite:{icon:{url:"/images/platformhome.svg"},label:cjBasics.lang.i18n("cj_i18n_01162","Platform Home"),shortcutId:"813",divider:!0},analytics:{icon:{url:"/images/48/analytics_48dp.svg"},label:cjBasics.lang.i18n("cj_i18n_00186","Analytics"),shortcutId:"11",color:"#e37400"},attribution:{icon:{url:"/images/48/attribution_48dp.svg"},label:cjBasics.lang.i18n("cj_i18n_00666","Attribution"),shortcutId:"369",color:"#ea4335"},datastudio:{icon:{url:"/images/48/data_studio_48dp.svg"},label:cjBasics.lang.i18n("cj_i18n_00333","Data Studio"),shortcutId:"366",color:"#1a73e8"},optimize:{icon:{url:"/images/48/optimize_48dp.svg"},label:cjBasics.lang.i18n("cj_i18n_00664","Optimize"),shortcutId:"367",color:"#b366f6"},surveys:{icon:{url:"/images/48/surveys_48dp.svg"},label:cjBasics.lang.i18n("cj_i18n_00467","Surveys"),shortcutId:"37",color:"#fbbc04"},tagmanager:{icon:{url:"/images/48/tag_manager_48dp.svg"},label:cjBasics.lang.i18n("cj_i18n_00513","Tag Manager"),shortcutId:"164",color:"#4285f4",divider:!0},displayvideo:{icon:{url:"/images/48/display_video_48dp.svg"},label:cjBasics.lang.i18n("cj_i18n_01112","Display & Video"),shortcutId:"491",color:"#34A853",external:!a.servicesDatabase.displayvideo},searchads:{icon:{url:"/images/48/search_ads_48dp.svg"},label:cjBasics.lang.i18n("cj_i18n_01099","Search Ads"),shortcutId:"490",color:"#4285F4",external:!a.servicesDatabase.searchads},campaignmanager:{icon:{url:"/images/48/campaign_manager_48dp.svg"},label:cjBasics.lang.i18n("cj_i18n_01101","Campaign Manager"),shortcutId:"809",color:"#34A853",external:!a.servicesDatabase.campaignmanager},audiencecenter:{icon:{url:"/images/48/audience_center_48dp.svg"},label:cjBasics.lang.i18n("cj_i18n_00665","Audience Center"),shortcutId:"368",color:"#a142f4"},studio:{icon:{url:"/images/48/studio_48dp.svg"},label:cjBasics.lang.i18n("cj_i18n_01098","Studio"),shortcutId:"184",color:"#EA4335",external:!a.servicesDatabase.studio,divider:!0}},i=n({});e.darkMode&&i.classList.add("cj-md--dark");var c=b({theme:e.theme,selectedId:e.selectedId,compact:!0,items:t,onClick:function(e){a.pageManager.navigate(e),i.cjceToggle(!1)},onNewTab:function(n,t){var c=e.cjgShortcuts.getUrl(t.shortcutId,a.account);a.openTab(c),i.cjceToggle(!1)}});return i.appendChild(c),i}var E=cjBasics.navigator.metaKeyName,L={navlist:b,navitem:p,drawerdropdown:v,lockup:e,searchbox:a,fulldialog:l,ogb:t,ogbtools:c,ogbdrawer:n,shortcutlist:u,marketingdrawer:j,iframe:d,inlinepermission:f,fab:g,menu:o,app:_};window.bmElements={createElement:function(e,a){return L[e](a||{})},toggleIconButtonApp:i,setLoading:h}}();