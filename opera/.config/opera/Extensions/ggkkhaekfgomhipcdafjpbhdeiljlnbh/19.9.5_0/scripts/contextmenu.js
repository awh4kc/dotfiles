!function(){"use strict";function t(t,e){l.windows.create({url:cjBasics.urlParams.attach("https://www.google.com/bookmarks/mark",{op:"edit",output:"popup",extension:"blackmenu",title:e,bkmk:t}),width:600,height:500,type:"panel"})}function e(t){l.windows.create({type:"panel",url:cjBasics.urlParams.attach("/app.html",{page:"urlshortener",url:t})})}function i(t){l.windows.create({url:"https://plus.google.com/share?url="+encodeURIComponent(t),width:500,height:516,type:"panel"})}function n(t){var e=t||{};e.view="cm",e.tf="0",l.windows.create({url:cjBasics.urlParams.attach("https://mail.google.com/mail",e),width:500,height:516,type:"panel"})}function o(t,e){s.create({contexts:e.contexts||[e.context||"page"],id:t,title:e.title})}function a(t,e){g[t.menuItemId].onClick(t,e),c()}function c(){s.onClicked.hasListener(a)||s.onClicked.hasListeners()||s.onClicked.addListener(a)}if(!cjBasics.navigator.firefox){var l="undefined"!=typeof chrome&&chrome.runtime?chrome:"undefined"!=typeof browser&&browser,s=l.contextMenus,r=cjBasics.ajax("pages.json",{fetchAs:"json"}).then(function(t){return Object.keys(t)}),g={openInTab:{context:"browser_action",title:cjBasics.lang.i18n("cj_i18n_01545","Open in a new tab"),onClick:function(){l.tabs.create({url:"app.html"})}},openInPanel:{context:"browser_action",title:cjBasics.lang.i18n("cj_i18n_01546","Open in a panel"),onClick:function(){setTimeout(function(){l.windows.create({url:"app.html",width:600,height:596,type:"panel",focused:!0})})}},translateSelection:{limitToPages:["translate"],context:"selection",title:cjBasics.lang.i18n("cj_i18n_01547","Translate text"),onClick:function(t){var e=navigator.language.split("-")[0].split("_")[0];l.windows.create({url:"https://translate.google.com/m/translate#auto/"+e+"/"+encodeURIComponent(t.selectionText),width:500,height:516,type:"panel"})}},emailSelection:{limitToPages:["gmail","inbox"],context:"selection",title:cjBasics.lang.i18n("cj_i18n_01548","Mail this text"),onClick:function(t){n({body:t.selectionText+"\n\nSource: "+t.pageUrl})}},emailToSelection:{limitToPages:["gmail","inbox"],context:"selection",title:cjBasics.lang.i18n("cj_i18n_01549","Write mail to address"),onClick:function(t){n({to:t.selectionText})}},bookmarkThisPage:{limitToPages:["bookmarks"],context:"page",title:cjBasics.lang.i18n("cj_i18n_01550","Bookmark this page"),onClick:function(e,i){t(e.pageUrl,i.title)}},bookmarkThisLink:{limitToPages:["bookmarks"],context:"link",title:cjBasics.lang.i18n("cj_i18n_01551","Bookmark this link"),onClick:function(e){t(e.linkUrl)}},gmailThisPage:{limitToPages:["gmail","inbox"],context:"page",title:cjBasics.lang.i18n("cj_i18n_01552","Mail this page"),onClick:function(t,e){n({su:e.title,body:t.pageUrl})}},shareThisPage:{limitToPages:["gplus"],context:"page",title:cjBasics.lang.i18n("cj_i18n_01553","Share this page"),onClick:function(t){i(t.pageUrl)}},shareThisLink:{limitToPages:["gplus"],context:"link",title:cjBasics.lang.i18n("cj_i18n_01554","Share this link"),onClick:function(t){i(t.linkUrl)}},shortenPageUrl:{limitToPages:["urlshortener"],context:"page",title:cjBasics.lang.i18n("cj_i18n_01555","Shorten page url"),onClick:function(t,i){e(i.url)}},shortenLinkUrl:{limitToPages:["urlshortener"],context:"link",title:cjBasics.lang.i18n("cj_i18n_01556","Shorten this link url"),onClick:function(t){e(t.linkUrl)}}};s.removeAll(function(){r.then(function(t){Object.keys(g).forEach(function(e){var i=g[e],n=i.limitToPages;if(Array.isArray(n)){for(var a=0;a<n.length;a++)if(t.indexOf(n[a])!==-1)return void o(e,i)}else o(e,i)}),c()})})}}();